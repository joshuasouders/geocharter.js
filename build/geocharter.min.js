/*! geocharter.js 2014-06-25 */
function Panel(a,b){console.log("here"),this.id=a,this.topLeftGraph=b.topLeft,this.bottomRightGraph=b.bottomRight,this.containerWidth=$("#"+a).parent().width(),this.containerHeight=$("#"+a).parent().height(),console.log(this.containerWidth),this.stepSize=this.containerWidth/12,this.topLeft=[Math.floor(this.topLeftGraph[0]*this.stepSize),Math.floor(this.topLeftGraph[1]*this.stepSize)],this.bottomRight=[Math.floor(this.bottomRightGraph[0]*this.stepSize),Math.floor(this.bottomRightGraph[1]*this.stepSize)],this.width=this.bottomRight[0]-this.topLeft[0],this.height=this.bottomRight[1]-this.topLeft[1],$("#"+a).css("left",this.topLeft[0]+"px"),$("#"+a).css("top",this.topLeft[1]+"px"),$("#"+a).css("width",this.width+"px"),$("#"+a).css("height",this.height+"px")}function Chart(a){this.id=a}function Piechart(a,b){this.id=a,this.data=b,this.div=document.getElementById(this.id),this.chart="",this.chartContext="",this.initializeChart(),this.setData(this.data)}function Barchart(a,b,c,d){this.id=a,this.data=b,this.panel=new Panel(a,c),this.div=document.getElementById(this.id),this.chart="",this.chartContext="",this.options={inGraphDataShow:!1,datasetFill:!0,scaleLabel:"<%=value%>",scaleTickSizeRight:5,scaleTickSizeLeft:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,scaleFontSize:16,canvasBorders:!1,canvasBordersWidth:1,canvasBordersColor:"black",graphTitle:"",graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",graphTitleFontColor:"#666",graphSubTitle:"",graphSubTitleFontFamily:"'Arial'",graphSubTitleFontSize:18,graphSubTitleFontStyle:"normal",graphSubTitleFontColor:"#666",footNote:"",footNoteFontFamily:"'Arial'",footNoteFontSize:8,footNoteFontStyle:"bold",footNoteFontColor:"#666",legend:!1,legendFontFamily:"'Arial'",legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",legendBlockSize:15,legendBorders:!1,legendBordersWidth:1,legendBordersColors:"#666",yAxisLeft:!0,yAxisRight:!1,xAxisBottom:!0,xAxisTop:!1,yAxisLabel:"",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666",xAxisLabel:"",xAxisFontFamily:"'Arial'",xAxisFontSize:16,xAxisFontStyle:"normal",xAxisFontColor:"#666",yAxisUnit:"",yAxisUnitFontFamily:"'Arial'",yAxisUnitFontSize:8,yAxisUnitFontStyle:"normal",yAxisUnitFontColor:"#666",annotateDisplay:!0,spaceTop:30,spaceBottom:30,spaceLeft:30,spaceRight:30,logarithmic:!1,showYAxisMin:!0,rotateLabels:"smart",xAxisSpaceOver:0,xAxisSpaceUnder:0,xAxisLabelSpaceAfter:0,xAxisLabelSpaceBefore:0,legendBordersSpaceBefore:0,legendBordersSpaceAfter:0,footNoteSpaceBefore:0,footNoteSpaceAfter:0,startAngle:0,dynamicDisplay:!1};var e;for(e in d){var f,g=e,h=d[e];for(f in this.options){var i=f;g==i&&(this.options[f]=h)}}this.initializeChart(),this.setData(this.data)}Chart.prototype.constructor=Chart,Chart.prototype.initializeChart=function(){},Chart.prototype.setData=function(){},Piechart.prototype.constructor=Piechart,Piechart.prototype.initializeChart=function(){this.div.innerHTML=this.div.innerHTML+'<canvas id="geocharter-'+this.id+'"></canvas>',this.chartContext=document.getElementById("geocharter-"+this.id).getContext("2d")},Piechart.prototype.setData=function(a){this.chart=new Chart(this.chartContext).Pie(a)},Barchart.prototype.constructor=Barchart,Barchart.prototype.initializeChart=function(){this.div.innerHTML="";var a=document.createElement("canvas");a.setAttribute("id","geocharter-"+this.id),a.width=this.div.clientWidth,a.height=this.div.clientHeight,this.div.innerHTML=this.div.innerHTML+a.outerHTML,this.chartContext=document.getElementById("geocharter-"+this.id).getContext("2d")},Barchart.prototype.setData=function(a){this.chart=new Chart(this.chartContext).Bar(a,this.options),console.log("changing data")};